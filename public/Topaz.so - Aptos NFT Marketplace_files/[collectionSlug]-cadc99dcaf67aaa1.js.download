(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5171],{52365:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(18764),a=t(85893);function o(e){var r=e.title,t=e.children,o=e.loading,s=void 0!==o&&o,i=e.width,c=void 0===i?"150px":i;return(0,a.jsxs)("div",{className:"w-[".concat(c,"] flex h-full flex-col items-start items-center justify-start rounded-lg border-2 border-gray-300 px-3 py-2 dark:border-stone-700 md:w-auto md:gap-2"),children:[(0,a.jsx)("div",{className:"text-center text-xs text-gray-500 dark:text-stone-500",children:r}),(0,a.jsx)("div",{className:"flex flex-row items-center justify-center gap-2 pt-2 text-center text-sm dark:text-stone-300 md:pt-0",children:t&&!s?t:(0,a.jsx)("div",{children:(0,a.jsx)(n.i_,{width:64,height:20})})})]})}},49603:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var n=t(50029),a=t(87794),o=t.n(a),s=t(67294),i=t(97803),c=t(18764),l=t(85893);function d(e){var r=e.address,t=e.shorten,a=void 0===t||t,d=(e.large,(0,s.useState)()),u=d[0],x=d[1];return(0,s.useEffect)((function(){(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,(0,i.hc)(r,a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[r]),u?(0,l.jsx)(l.Fragment,{children:u}):(0,l.jsx)("span",{children:(0,l.jsx)(c.i_,{height:20,width:120})})}},89651:function(e,r,t){"use strict";t.d(r,{Qq:function(){return d},bG:function(){return l}});var n=t(41664),a=t.n(n),o=t(4143),s=t(82007),i=t(97803),c=t(85893);function l(e){var r=e.page,t=e.onLoading;return(0,c.jsxs)("nav",{className:"mx-auto flex max-w-md flex-row items-center justify-center gap-4 text-lg font-medium text-gray-400 dark:text-stone-400",children:[(0,c.jsx)(a(),{href:0===r?"#":"/explore-collections?page=".concat(r-1),children:(0,c.jsxs)("a",{onClick:t,className:"flex flex-row items-center justify-center gap-4 rounded-xl border-2 border-gray-300 px-6 py-4 hover:border-gray-300 hover:text-gray-700 dark:border-stone-600 dark:hover:text-stone-300 ".concat(0===r?"opacity-50 hover:cursor-not-allowed":""),children:[(0,c.jsx)(o.Z,{className:"h-5 w-5","aria-hidden":"true"}),Math.max(0,(0,i.ot)(r,"20").from-20).toLocaleString("en-US")," ","-"," ",Math.max(20,(0,i.ot)(r,"20").from).toLocaleString("en-US")]})}),(0,c.jsx)(a(),{href:"/explore-collections?page=".concat(r+1),children:(0,c.jsxs)("a",{onClick:t,className:"flex flex-row items-center justify-center gap-4 rounded-xl border-2 border-gray-300 px-6 py-4 hover:border-gray-300 hover:text-gray-700 dark:border-stone-600 dark:hover:text-stone-300",children:[((0,i.ot)(r,"20").from+20).toLocaleString("en-US")," -"," ",((0,i.ot)(r,"20").from+40).toLocaleString("en-US"),(0,c.jsx)(s.Z,{className:"h-5 w-5","aria-hidden":"true"})]})})]})}function d(e){e.slug;var r=e.page,t=e.count,n=e.onLoading,a=e.itemsPerPage,l=e.setPage,d=Math.ceil(t/a);return(0,c.jsxs)("nav",{className:"mx-auto flex max-w-md flex-row items-center justify-center gap-4 text-lg font-medium text-gray-400 dark:text-stone-400",children:[(0,c.jsxs)("a",{onClick:function(){r>0&&(n(),l(r-1),window.scrollTo(0,0))},className:"flex flex-row items-center justify-center gap-4 rounded-xl border-2 border-gray-300 px-6 py-4 hover:cursor-pointer hover:border-gray-300 hover:text-gray-700 dark:border-stone-600 dark:hover:text-stone-300 ".concat(0===r?"opacity-50 hover:cursor-not-allowed":""),children:[(0,c.jsx)(o.Z,{className:"h-5 w-5","aria-hidden":"true"}),Math.max(0,(0,i.ot)(r,a).from-a).toLocaleString("en-US")," ","-"," ",Math.max(a,(0,i.ot)(r,a).from).toLocaleString("en-US")]}),(0,c.jsxs)("a",{onClick:function(){n(),l(r+1),window.scrollTo(0,0)},className:"flex flex-row items-center justify-center gap-4 rounded-xl border-2 border-gray-300 px-6 py-4 hover:cursor-pointer hover:border-gray-300 hover:text-gray-700 dark:border-stone-600 dark:hover:text-stone-300 ".concat(r+1===d?"opacity-50 hover:cursor-not-allowed":""),children:[((0,i.ot)(r,a).from+a).toLocaleString("en-US")," ","-"," ",((0,i.ot)(r,a).from+2*a).toLocaleString("en-US"),(0,c.jsx)(s.Z,{className:"h-5 w-5","aria-hidden":"true"})]})]})}},76087:function(e,r,t){"use strict";t.d(r,{_v:function(){return w},aJ:function(){return b},u:function(){return j},zt:function(){return g}});var n=t(59499),a=t(4730),o=t(52765),s=t(80794),i=t(86744),c=(t(67294),t(85893)),l=["children"];function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var x=(0,i.F4)({"0%":{opacity:0,transform:"translateY(2px)"},"100%":{opacity:1,transform:"translateY(0)"}}),h=(0,i.F4)({"0%":{opacity:0,transform:"translateX(-2px)"},"100%":{opacity:1,transform:"translateX(0)"}}),m=(0,i.F4)({"0%":{opacity:0,transform:"translateY(-2px)"},"100%":{opacity:1,transform:"translateY(0)"}}),f=(0,i.F4)({"0%":{opacity:0,transform:"translateX(2px)"},"100%":{opacity:1,transform:"translateX(0)"}}),p=(0,i.zo)(s.VY,{borderRadius:4,padding:"10px 15px",fontSize:15,lineHeight:1,zIndex:500,color:o.ht.violet11,backgroundColor:"white",boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",userSelect:"none","@media (prefers-reduced-motion: no-preference)":{animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",willChange:"transform, opacity",'&[data-state="delayed-open"]':{'&[data-side="top"]':{animationName:m},'&[data-side="right"]':{animationName:f},'&[data-side="bottom"]':{animationName:x},'&[data-side="left"]':{animationName:h}}}}),v=(0,i.zo)(s.Eh,{fill:"white"});var g=s.zt,j=s.fC,b=s.xz,w=function(e){var r=e.children,t=(0,a.Z)(e,l);return(0,c.jsx)(s.h_,{children:(0,c.jsxs)(p,u(u({},t),{},{children:[r,(0,c.jsx)(v,{})]}))})}},56770:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(82010),a=t(67294),o=t(50921),s=t(97803),i=t(66799),c=t(82422),l=t(6060),d=t(52765),u=t(83686),x=t(86744),h=(0,x.zo)(u.fC,{position:"relative",display:"flex",alignItems:"center",userSelect:"none",touchAction:"none",width:"100%",'&[data-orientation="horizontal"]':{height:20},'&[data-orientation="vertical"]':{flexDirection:"column",width:20,height:100}}),m=(0,x.zo)(u.fQ,{backgroundColor:d.U2.blackA10,position:"relative",flexGrow:1,borderRadius:"9999px",'&[data-orientation="horizontal"]':{height:3},'&[data-orientation="vertical"]':{width:3}}),f=(0,x.zo)(u.e6,{position:"absolute",backgroundColor:"#FFDF26",borderRadius:"9999px",height:"100%",variants:{theme:{dark:{backgroundColor:"rgb(112, 26, 117)"}}}}),p=(0,x.zo)(u.bU,{all:"unset",display:"block",width:20,height:20,backgroundColor:"white",boxShadow:"0 2px 10px ".concat(d.U2.blackA7),borderRadius:10,"&:hover":{backgroundColor:d.ht.violet3},"&:focus":{boxShadow:"0 0 0 5px ".concat(d.U2.blackA8)}}),v=t(85893),g=function(e){var r=e.cart,t=e.checkoutText,n=e.onCheckout,a=e.showPrice;return(0,v.jsxs)("div",{children:[a&&(0,v.jsxs)("div",{className:"mb-4 flex flex-row items-center gap-2 border-t-2 border-b-2 border-gray-200 py-4 dark:border-stone-700",children:[(0,v.jsx)("div",{children:"Total"}),(0,v.jsx)("div",{className:"grow"}),(0,v.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,v.jsx)("div",{className:"h-4 w-4",children:(0,v.jsx)(i.Z,{})})," ",(0,s.Ho)(r.reduce((function(e,r){return(e||0)+(r.price||0)}),0))," ","APTOS"]})]}),(0,v.jsx)(c.Z,{primary:!0,onClick:n,children:t})]})},j=function(e){var r=e.title,t=e.emptyText,d=e.cart,u=e.setCart,x=e.setCartMode,j=e.checkoutText,b=e.onCheckout,w=e.sweep,y=void 0===w||w,N=e.onSweepChange,k=void 0===N?function(e){}:N,_=e.width,Z=void 0===_?290:_,C=e.showPrice,O=void 0===C||C,S=(0,n.F)().theme,P=(0,a.useState)([0]),T=P[0],R=P[1],E=function(e){k(e[0]),R(e)};return(0,v.jsxs)("div",{style:{width:"".concat(Z,"px")},className:"fixed top-[80px] bottom-0 right-0 flex min-h-screen flex-col overflow-y-scroll border-l-2 border-gray-200 bg-white px-4 pb-48 text-sm dark:border-stone-700 dark:bg-stone-800",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center gap-2 border-b-2 border-gray-200 py-2 dark:border-stone-700",children:[r,(0,v.jsx)("div",{className:"grow"}),!!d.length&&(0,v.jsx)(c.Z,{onClick:function(){E([0]),u([])},children:"Clear"}),(0,v.jsx)(c.Z,{onClick:function(){x(!1),u([])},children:"Close"})]}),y&&(0,v.jsxs)("div",{className:"flex flex-col gap-2 border-b-2 border-gray-200 py-3 dark:border-stone-700",children:[(0,v.jsx)("div",{className:"flex flex-row items-center gap-2",children:"Sweep Floor"}),(0,v.jsx)("div",{className:"py-1",children:(0,v.jsxs)(h,{defaultValue:[0],value:T,max:50,step:1,"aria-label":"Items",onValueChange:function(e){return E(e)},children:[(0,v.jsx)(m,{children:(0,v.jsx)(f,{theme:S})}),(0,v.jsx)(p,{})]})}),(0,v.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,v.jsx)("input",{className:"w-full rounded-md border-2 border-gray-200 bg-transparent text-sm outline-0 ring-0 dark:border-stone-700",type:"number",placeholder:"Items",value:T[0],onChange:function(e){return E([e.target.value])}})," ",(0,v.jsx)("div",{children:"Items"})]})]}),0===d.length?t:(0,v.jsx)("div",{className:"flex flex-col gap-1 py-4",children:d.map((function(e,r){return(0,v.jsxs)("div",{className:"-mx-2 flex flex-row items-center gap-2 rounded-lg py-2 px-2 hover:cursor-pointer hover:bg-gray-100 dark:hover:bg-stone-700",children:[(0,v.jsxs)("div",{className:"shrink-0",children:[(0,v.jsx)("div",{className:"absolute -ml-2 -mt-2 rounded-full bg-yellow-300 text-yellow-700 hover:cursor-pointer dark:border-fuchsia-700 dark:bg-white dark:text-fuchsia-700",onClick:function(){var r=d.filter((function(r){return r!==e}));u(r)},children:(0,v.jsx)(o.Z,{className:"h-5 w-5"})}),(0,v.jsx)(l.q,{uri:e.preview_uri||e.token_uri,className:"mx-auto aspect-square h-12 w-12 rounded-md border-[1px] border-gray-300 object-cover dark:border-stone-700"})]}),(0,v.jsx)("div",{className:"max-w-[120px] overflow-hidden text-ellipsis whitespace-nowrap",children:e.token_name}),(0,v.jsx)("div",{className:"grow"}),O&&(0,v.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,v.jsx)("div",{className:"h-4 w-4",children:(0,v.jsx)(i.Z,{})})," ",(0,s.Ho)(e.price)]})]},r)}))}),!!d.length&&(0,v.jsx)(g,{cart:d,checkoutText:j,onCheckout:b,showPrice:O})]})}},60953:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return Ue},default:function(){return Ve}});var n,a=t(27812),o=t(59499),s=t(50029),i=t(87794),c=t.n(i),l=t(11163),d=t(82010),u=t(67294),x=t(52826),h=t(40685),m=t(43787),f=t(85519),p=t(38878),v=t(37940),g=t(28486),j=t(56174),b=t(46528),w=t(52254),y=t(10373),N=t(39061),k=t(9073),_=t(51860),Z=t(85983),C=t(41537),O=t(87536),S=t(86501),P=t(89747),T=t(5031),R=t(8100),E=t(38938),I=t(97803);!function(e){e.PRICE_HIGH_TO_LOW="PRICE_HIGH_TO_LOW",e.PRICE_LOW_TO_HIGH="PRICE_LOW_TO_HIGH",e.RARITY_COMMON_TO_RARE="RARITY_COMMON_TO_RARE",e.RARITY_RARE_TO_COMMON="RARITY_RARE_TO_COMMON"}(n||(n={}));var M=t(81831),A=t(33771),F=t(4730),L=t(52765),D=t(6116),H=t(86744),z=t(85893),B=["children"],W=["children"];function Y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Y(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var V=(0,H.Th)({theme:{colors:U(U(U(U(U({},L.Fe),L.MA),L.iN),L.Q6),L.ek)}}),q=V.styled,G=((0,V.createTheme)({colors:U(U(U(U(U({},L.XD),L.hU),L.qn),L.nA),L.u7)}),(0,H.F4)({from:{height:0},to:{height:"var(--radix-accordion-content-height)"}})),X=(0,H.F4)({from:{height:"var(--radix-accordion-content-height)"},to:{height:0}}),J=q(D.fC,{borderRadius:6,backgroundColor:L.Fe.mauve6,borderWidth:"2px",borderColor:"#e2e2e2",variants:{theme:{dark:{borderColor:"rgb(68 64 60)",backgroundColor:"rgb(112, 26, 117)"}}}}),Q=q(D.ck,{overflow:"hidden",marginTop:1,"&:first-child":{marginTop:0,borderTopLeftRadius:4,borderTopRightRadius:4},"&:last-child":{borderBottomLeftRadius:4,borderBottomRightRadius:4}}),K=q(D.h4,{all:"unset",display:"flex",variants:{theme:{dark:{backgroundColor:"rgb(112, 26, 117)"}}}}),$=q(D.xz,{all:"unset",fontFamily:"inherit",backgroundColor:"transparent",padding:"0 16px",height:40,flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:14,lineHeight:1,boxShadow:"0 2px 0 ".concat(L.Fe.mauve6),'&[data-state="closed"]':{backgroundColor:"white"},'&[data-state="open"]':{backgroundColor:"white"},"&:hover":{backgroundColor:L.Fe.mauve2},variants:{theme:{dark:{'&[data-state="closed"]':{backgroundColor:"rgb(41 37 36)"},'&[data-state="open"]':{backgroundColor:"rgb(41 37 36)"},color:"rgb(214 211 209)",boxShadow:"0 2px 0 rgb(68 64 60)"}}}}),ee=q(D.VY,{fontSize:14,color:L.Fe.mauve11,backgroundColor:L.Fe.mauve2,maxHeight:"270px",overflow:"scroll",'&[data-state="open"]':{animation:"".concat(G," 300ms cubic-bezier(0.87, 0, 0.13, 1)")},'&[data-state="closed"]':{animation:"".concat(X," 300ms cubic-bezier(0.87, 0, 0.13, 1)")},variants:{theme:{dark:{color:"rgb(168 162 158)",backgroundColor:"rgb(28 25 23)"}}}}),re=q("div",{padding:"2px 16px"}),te=J,ne=Q,ae=u.forwardRef((function(e,r){var t=e.children,n=(0,F.Z)(e,B);return(0,z.jsx)(K,{children:(0,z.jsxs)($,U(U({},n),{},{ref:r,children:[t,(0,z.jsx)("span",{children:(0,z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"opacity-50",viewBox:"0 0 16 16",children:(0,z.jsx)("path",{fillRule:"evenodd",d:"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"})})})]}))})})),oe=u.forwardRef((function(e,r){var t=e.children,n=(0,F.Z)(e,W);return(0,z.jsx)(ee,U(U({},n),{},{ref:r,children:(0,z.jsx)(re,{children:t})}))})),se=t(66799),ie=t(52365),ce=t(82422),le=t(41664),de=t.n(le);function ue(e){var r=e.href,t=void 0===r?"#":r,n=e.target,a=void 0===n?"":n,o=e.active,s=void 0!==o&&o,i=e.disabled,c=void 0!==i&&i,l=e.primary,d=void 0!==l&&l,u=e.children;return(0,z.jsx)(de(),{href:t,children:(0,z.jsx)("a",{className:"flex flex-row items-center justify-center gap-3 whitespace-nowrap rounded-xl bg-opacity-60 px-4 py-2 text-sm\n      text-black hover:bg-gray-200\n      ".concat(d?"dark:bg-fuchsia-900 dark:text-white dark:hover:bg-fuchsia-800":"dark:bg-stone-700 dark:text-stone-300 dark:hover:bg-stone-600","\n      ").concat(c&&"hover:cursor-not-allowed","\n      ").concat(s?"bg-gray-50 shadow-inner shadow-yellow-500/80 dark:bg-stone-400 dark:text-stone-900 dark:shadow-none dark:hover:text-stone-300":"bg-gray-200"),rel:"noreferrer noopener",target:a,children:u})})}var xe=t(16835),he=t(49603),me=t(18764);function fe(e){var r,t,n,a,o,s,i,c;return{type:(c=e.type,"BuyEvent"===c?"Buy":"SellEvent"===c?"Sell":"BidEvent"===c?"Offer":"ListEvent"===c?"List":"DelistEvent"===c?"Delist":"FillCollectionBidEvent"===c?"Sell":"CollectionBidEvent"===c?"Collection Offer":c),timestamp:e.timestamp,price:null===(r=e.data)||void 0===r?void 0:r.price,seller:null===(t=e.data)||void 0===t?void 0:t.seller,buyer:null===(n=e.data)||void 0===n?void 0:n.buyer,tokenId:null===(a=e.data)||void 0===a||null===(o=a.token_id)||void 0===o?void 0:o.token_data_id,propertyVersion:null===(s=e.data)||void 0===s||null===(i=s.token_id)||void 0===i?void 0:i.property_version}}function pe(e){var r="".concat(e.split(".")[0],".000Z"),t=new Date(r),n=((new Date).getTime()-t.getTime())/1e3;return n<0?"now":n>0&&n<60?Math.trunc(n)+"s":n<3600?parseInt(n/60)+"min":n<=86400?parseInt(n/3600)+"h":n<=2628e3?parseInt(n/86400)+"d":n<=31536e3?parseInt(n/2628e3)+"mo":n>31536e3?parseInt(n/31536e3)+"y":void 0}function ve(e){var r=e.collection,t=e.slug,n=u.useState([]),a=(0,xe.Z)(n,2),o=a[0],i=a[1];return u.useEffect((function(){function e(){return(e=(0,s.Z)(c().mark((function e(){var t,n,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/activity",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({collection_id:r.collection_id})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.data,o=n.error,console.log(a,o),a&&(s=a.map(fe),i(s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r]),(0,z.jsx)("section",{children:(o.length||0)>0?(0,z.jsx)(ge,{events:o,slug:t}):(0,z.jsx)(me.qY,{})})}function ge(e){var r=e.events,t=e.slug;return(0,z.jsx)("div",{className:"overflow-hidden pb-8 pt-2",children:(0,z.jsxs)("table",{className:"mx-auto w-full max-w-screen-xl divide-y divide-gray-200 border-b-[1px] border-gray-200 dark:divide-stone-800 dark:border-stone-800",children:[(0,z.jsx)("thead",{className:"text-center text-xs text-gray-400",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{scope:"col",className:"hidden pb-2 font-medium md:table-cell",children:"Time"}),(0,z.jsx)("th",{scope:"col",className:"hidden pb-2 font-medium md:table-cell",children:"Event"}),(0,z.jsx)("th",{scope:"col",className:"hidden pb-2 font-medium md:table-cell",children:"Name"}),(0,z.jsx)("th",{scope:"col",className:"whitespace-nowrap pb-2 font-medium md:table-cell",children:"Price"}),(0,z.jsx)("th",{scope:"col",className:"pb-4 font-medium md:pb-2",children:"Seller"}),(0,z.jsx)("th",{scope:"col",className:"pb-4 font-medium md:pb-2",children:"Buyer"})]})}),(0,z.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-stone-800 dark:bg-stone-900",children:r.map((function(e,r){var n,a;return(0,z.jsxs)("tr",{className:"text-center text-sm hover:bg-gray-50 dark:hover:bg-stone-800",children:[(0,z.jsx)("td",{className:"table-cell py-2",children:pe(e.timestamp)}),(0,z.jsx)("td",{className:"table-cell whitespace-nowrap py-2",children:e.type}),(0,z.jsx)("td",{className:"table-cell py-2",children:(0,z.jsx)(de(),{href:"/assets/".concat(t,"/").concat(encodeURIComponent(null===(n=e.tokenId)||void 0===n?void 0:n.name),"/").concat(e.propertyVersion),children:(0,z.jsx)("a",{className:"underline",children:null===(a=e.tokenId)||void 0===a?void 0:a.name})})}),(0,z.jsxs)("td",{className:"table-cell w-[10%] whitespace-nowrap py-2",children:[(0,I.Ho)(e.price,{maxDecimals:2})," APT"]}),(0,z.jsx)("td",{className:"table-cell py-2 font-medium",children:e.seller?(0,z.jsx)(de(),{href:"/u/".concat(e.seller),children:(0,z.jsx)("a",{className:"underline",children:(0,z.jsx)(he.Z,{address:e.seller,shorten:!0})})}):""}),(0,z.jsx)("td",{className:"table-cell py-2 font-medium",children:e.buyer?(0,z.jsx)(de(),{href:"/u/".concat(e.buyer),children:(0,z.jsx)("a",{className:"underline",children:(0,z.jsx)(he.Z,{address:e.buyer,shorten:!0})})}):""})]},r)}))})]})})}var je=function(e){var r=e.onClick,t=e.price;return(0,z.jsxs)("a",{className:"group flex flex-col items-center justify-center gap-2 whitespace-nowrap\n        rounded-lg border-2 border-gray-300 hover:cursor-pointer hover:border-2 hover:bg-gray-100 dark:border-fuchsia-900 dark:bg-fuchsia-900 hover:dark:border-fuchsia-800 dark:hover:bg-fuchsia-800",onClick:r,children:[(0,z.jsx)("div",{className:"text-base opacity-40",children:"Sell instantly for"}),(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2 text-xl",children:[(0,z.jsx)("div",{className:"h-5 w-5",children:(0,z.jsx)(se.Z,{})})," ",(0,I.Ho)(t)," APT"]})]})},be=t(56119),we=t(20281),ye=t(56204),Ne=t(16485);function ke(e){var r=e.collectionId,t=e.collectionOffer,n=e.refresh,a=(0,u.useState)(),o=a[0],i=a[1],l=(0,Ne.Z)().address,d=(0,ye.I)().acceptCollectionBid,x=we.Z.useHandleClose();function h(){return(h=(0,s.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.bid_id,1,r.creator,r.collection_name,r.token_name,r.property_version||0,n);case 2:x();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){r&&(0,s.Z)(c().mark((function e(){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/profile-data?owner=".concat(l));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.data,(o=n.error)&&console.log(o),i(null===a||void 0===a?void 0:a.filter((function(e){return!e.is_listed&&e.collection_id===r})));case 10:case"end":return e.stop()}}),e)})))()}),[r]),o?0===o.length?(0,z.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3 text-xl text-gray-500 dark:text-stone-400",children:[(0,z.jsx)(be.Z,{className:"flex-shrink-0"})," ",(0,z.jsx)("div",{children:"You don't own any items from this collection. If you have items from this collection that are listed, you'll need to delist first before you can sell."})]}):(0,z.jsxs)("table",{className:"table",children:[(0,z.jsx)("thead",{className:"border-b-[1px] border-gray-200 text-xs text-gray-400 dark:border-stone-800",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{scope:"col",className:"md:table-cel whitespace-nowrap pb-3 text-left font-medium",children:"Item"}),(0,z.jsx)("th",{scope:"col",className:"hidden whitespace-nowrap pb-3 font-medium md:table-cell"})]})}),(0,z.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-stone-800 dark:bg-stone-900",children:null===o||void 0===o?void 0:o.map((function(e){return(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"table-cell w-full whitespace-nowrap",children:(0,z.jsxs)("div",{className:"flex flex-row items-center gap-3 py-2 text-lg",children:[(0,z.jsx)("img",{src:e.preview_uri||e.token_uri,className:"h-16 w-16 rounded-sm border-[1px] border-gray-200 dark:border-stone-700"}),e.token_name]})}),(0,z.jsx)("td",{className:"table-cell",children:(0,z.jsx)(ce.Z,{primary:!0,onClick:function(){return function(e){return h.apply(this,arguments)}(e)},children:(0,z.jsxs)("div",{className:"flex flex-row gap-2",children:["Sell for"," ",(0,z.jsx)("div",{className:"h-5 w-5",children:(0,z.jsx)(se.Z,{})})," ",(0,I.Ho)(null===t||void 0===t?void 0:t.price)," APT"]})})})]},e.token_id)}))})]}):(0,z.jsx)(me.i_,{width:600,height:200})}var _e=t(56770),Ze=t(64289),Ce=t(6060),Oe=t(89651),Se=t(79814),Pe=t(54891);function Te(e){var r=e.trigger,t=e.setSortMode,a=e.className,o=void 0===a?"ml-24":a;function s(e){switch(e){case"PRICE_HIGH_TO_LOW":return"Price (high to low)";case"PRICE_LOW_TO_HIGH":return"Price (low to high)";case"RARITY_COMMON_TO_RARE":return"Rarity (common to rare)";case"RARITY_RARE_TO_COMMON":return"Rarity (rare to common)";default:return""}}return(0,z.jsxs)(Pe.fC,{children:[(0,z.jsx)(Pe.xz,{children:r}),(0,z.jsx)(Pe.Uv,{className:"z-[200]",children:(0,z.jsx)(Pe.VY,{className:"".concat(o," z-[200] mt-1 mr-2 rounded-md border-2 border-gray-200 bg-white drop-shadow-lg dark:border-stone-800 dark:bg-stone-900"),children:[n.PRICE_LOW_TO_HIGH,n.PRICE_HIGH_TO_LOW,n.RARITY_COMMON_TO_RARE,n.RARITY_RARE_TO_COMMON].map((function(e){return(0,z.jsx)(Pe.ck,{onClick:function(){return t(e)},className:"flex w-[270px] flex-row items-center gap-4 rounded-sm px-4 py-3 text-xl hover:cursor-pointer hover:bg-gray-50 dark:border-stone-700 dark:hover:bg-stone-800",children:s(e)},e)}))})})]})}var Re=t(45061),Ee=t(16208),Ie=t(76087),Me=t(1960),Ae=t(91367),Fe=t(51249);function Le(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return De(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return De(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(i)throw o}}}}function De(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ze(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?He(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}(0,I.MX)(I.SP),(0,I.MX)(I.A6);function Be(e){var r,t=e.initialBuyNow,i=e.initialSortMode,p=e.initialFilters,v=e.initialPage,g=e.initialMinPrice,j=e.initialMaxPrice,b=e.initialSearch,w=e.collection,y=e.slug,N=(0,l.useRouter)().query,k=(0,Me.a)(),_=k.user,Z=(k.isLoading,k.signIn),O=k.signOut,R=(0,Ne.Z)(),F=R.account,L=R.address,D=R.signMessage,H=(0,A.Z)(),B=(0,we.Z)().handleClose,W=((0,Fe.k)().showDialog,(0,u.useState)(t||!1)),Y=W[0],U=W[1],V=(0,u.useState)(!0),q=V[0],G=V[1],X=(0,u.useState)(),J=X[0],Q=X[1],K=(0,u.useState)(),$=K[0],ee=K[1],re=(0,u.useState)(),ie=re[0],le=re[1],de=(0,u.useState)(0===g?void 0:g),ue=de[0],xe=de[1],he=(0,u.useState)(j),fe=he[0],pe=he[1],ge=(0,u.useState)(0===g?void 0:g),be=ge[0],Ce=ge[1],Pe=(0,u.useState)(j),Ie=Pe[0],De=Pe[1],He=(0,u.useState)(!1),Be=(He[0],He[1]),Ue=(0,u.useState)(!1),Ve=Ue[0],qe=Ue[1],Ge=(0,u.useState)(!0),Xe=Ge[0],Je=Ge[1],Qe=(0,u.useState)(!0),Ke=Qe[0],$e=Qe[1],er=(0,u.useState)([]),rr=er[0],tr=er[1],nr=(0,ye.I)(),ar=nr.buyMany,or=nr.buyToken,sr=(0,u.useState)(null),ir=sr[0],cr=(sr[1],(0,C.kC)({xs:{min:0,max:360},sm:{min:361,max:960}})),lr=cr.xs,dr=cr.sm,ur=(0,Ae.$)().degenMode,xr=(0,l.useRouter)(),hr=(0,u.useState)(),mr=hr[0],fr=hr[1],pr=(0,u.useState)(),vr=pr[0],gr=pr[1],jr=(0,d.F)().theme,br=(0,u.useState)(),wr=br[0],yr=br[1],Nr=xr.query.activity,kr=(0,u.useState)(),_r=kr[0],Zr=kr[1],Cr=(0,u.useState)({}),Or=Cr[0],Sr=Cr[1],Pr=(0,u.useState)(p||{}),Tr=Pr[0],Rr=Pr[1],Er=(0,u.useState)(!1),Ir=Er[0],Mr=Er[1],Ar=(0,u.useState)(i||n.PRICE_LOW_TO_HIGH),Fr=Ar[0],Lr=Ar[1],Dr=(0,u.useState)(v||0),Hr=Dr[0],zr=Dr[1],Br=(0,u.useState)(!1),Wr=(Br[0],Br[1],(0,u.useState)(b)),Yr=Wr[0],Ur=Wr[1],Vr=(0,u.useState)(),qr=Vr[0],Gr=Vr[1];function Xr(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==w&&void 0!==w&&w.collection_id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/supply?collection_id=".concat(w.collection_id));case 4:return r=e.sent,e.next=7,r.json();case 7:t=e.sent,n=t.count,t.error,Q(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/royalty?collection_id=".concat(w.collection_id));case 2:return r=e.sent,e.next=5,r.json();case 5:t=e.sent,n=t.data,t.error,Gr(n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(){return et.apply(this,arguments)}function et(){return et=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Qr(),dt(),Xr(),(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/collection-metadata?collection_id=".concat(w.collection_id));case 2:return r=e.sent,e.next=5,r.json();case 5:t=e.sent,n=t.data,t.error,Sr(null===n||void 0===n?void 0:n.metadata);case 9:case"end":return e.stop()}}),e)})))(),(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/explore-collections?collection_id=".concat(w.collection_id));case 2:return r=e.sent,e.next=5,r.json();case 5:t=e.sent,n=t.data,t.error,fr(n);case 9:case"end":return e.stop()}}),e)})))(),(0,s.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.Z.from("communities").select("*").eq("collection_id",w.collection_id).limit(1).single();case 2:r=e.sent,t=r.data,r.error,gr(t);case 6:case"end":return e.stop()}}),e)})))(),(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/listed-count?collection_id=".concat(w.collection_id));case 2:return r=e.sent,e.next=5,r.json();case 5:t=e.sent,n=t.count,t.error,Zr(n);case 9:case"end":return e.stop()}}),e)})))(),(0,s.Z)(c().mark((function e(){var r,t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,E.Lu)({creator:w.creator,collection:w.name});case 3:return t=e.sent,e.next=6,Promise.all(t.map(function(){var e=(0,s.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,E.zm)(r));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r){return e.apply(this,arguments)}}()));case 6:n=e.sent,a=1e3*(new Date).getTime(),n=n.filter((function(e){return e.deadline>a})).sort((function(e,r){return Number(r.price)-Number(e.price)})),yr(null===(r=n)||void 0===r?void 0:r[0]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),yr(void 0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()]);case 2:case"end":return e.stop()}}),e)})))();case 3:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function rt(e,r,t){S.ZP.custom((function(n){return(0,z.jsx)("div",{className:"".concat(n.visible?"animate-enter":"animate-leave"," pointer-events-auto flex w-full max-w-md rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"),children:(0,z.jsx)("div",{className:"w-0 flex-1 p-4",children:(0,z.jsxs)("div",{className:"flex items-start",children:[(0,z.jsx)("div",{className:"flex-shrink-0 pt-0.5"}),(0,z.jsxs)("div",{className:"ml-3 flex-1",children:[(0,z.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e}),(0,z.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r}),(0,z.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})]})})})}),{duration:2e3,position:"bottom-left"})}function tt(){G(!0);var e=(0,I.ot)(Hr,50),r=e.from,t=e.to;(0,s.Z)(c().mark((function e(){var n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,fetch("/api/listing-view?collection_id=".concat(w.collection_id,"&from=").concat(r,"&to=").concat(t,"&sort_mode=").concat(Fr.toString(),"&buy_now=").concat(Y,"&page=").concat(Hr,"&min_price=").concat(be,"&max_price=").concat(Ie,"&filters=").concat(JSON.stringify(Tr),"&search=").concat(Yr));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,o=a.data,a.error,o,ee(o),G(!1);case 12:case"end":return e.stop()}}),e)})))()}function nt(){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://topaz.so",(t=new URL(window.location.href)).searchParams.append("discord","true"),r=t.toString(),e.next=4,Z({provider:"discord"},{redirectTo:r});case 4:n=e.sent,n.user,n.session,n.error&&S.ZP.error("Sign in failed.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:r=e.sent,r.error&&S.ZP.error("Sign out failed."),qe(!1),B();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(c().mark((function e(){var r,t,n,a,o,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Be(!0),r=S.ZP.loading("Claiming role..."),e.prev=2,L){e.next=5;break}throw new Error("Wallet not connected!");case 5:if(vr.id){e.next=7;break}throw new Error("There is no community for this collection.");case 7:return t="topaz",e.t0=I.p2,e.next=11,D({nonce:1234034,message:t});case 11:return e.t1=e.sent,n=(0,e.t0)(e.t1),a={publicKey:null===F||void 0===F?void 0:F.publicKey,address:L,signature:n,messageStr:t,communityId:vr.id,collectionId:w.collection_id},e.next=16,fetch("/api/verify",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json"}});case 16:return o=e.sent,e.next=19,o.json();case 19:if(null===(s=e.sent)||void 0===s||!s.error){e.next=22;break}throw new Error(s.error);case 22:if((i=s.message)&&""!==i){e.next=25;break}throw new Error("Something went wrong. Try again later.");case 25:S.ZP.dismiss(r),S.ZP.success(i),Be(!1),qe(!0),B(),e.next=38;break;case 32:e.prev=32,e.t2=e.catch(2),console.log(e.t2),S.ZP.dismiss(r),S.ZP.error(e.t2.message),Be(!1);case 38:case"end":return e.stop()}}),e,null,[[2,32]])})))).apply(this,arguments)}function lt(){return(lt=(0,s.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),F){e.next=4;break}return S.ZP.error("Please connect your wallet."),e.abrupt("return");case 4:return e.next=6,ar(rr.map((function(e){return e.seller})),rr.map((function(e){return e.price})),rr.map((function(e){return 1})),rr.map((function(e){return e.token_id.split("::")[0]})),rr.map((function(e){return e.token_id.split("::")[1]})),rr.map((function(e){return e.token_id.split("::")[2]})),rr.map((function(e){return e.token_id.split("::")[3]||0})));case 6:tr([]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/floor",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({collection_id:w.collection_id})});case 4:return r=e.sent,e.next=7,r.json();case 7:t=e.sent,n=t.data,t.error,le((null===n||void 0===n?void 0:n.floor)||0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){var e,r;H({body:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"mb-6 px-6 text-lg font-medium text-gray-500 dark:text-stone-500",children:["If you own any ",(0,z.jsx)("b",{children:w.name})," NFTs, you can get a special verified role in the ",(0,z.jsx)("b",{children:w.name})," Discord server."]}),(0,z.jsxs)("div",{className:"text-md flex w-full flex-col gap-2 font-medium",children:[(0,z.jsxs)("div",{className:"flex flex-row items-center gap-3 rounded-lg border-2 border-gray-200 px-4 py-3 dark:border-stone-700",children:[_?(0,z.jsx)("div",{className:"flex h-6 w-6 flex-row items-center justify-center text-center text-green-600",children:(0,z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:(0,z.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,z.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-gray-400 text-center text-sm text-gray-400",children:"1"}),(0,z.jsx)("div",{className:"flex flex-row items-center gap-2 whitespace-nowrap text-gray-700 dark:text-stone-400",children:_?(0,z.jsxs)(z.Fragment,{children:[(e=_.user_metadata.name,r=12,e.length>r?e.substr(0,r-1)+"&hellip;":e)," ",(0,z.jsx)(x.Z,{className:"h-5 w-5"})]}):"Verify Discord"}),(0,z.jsx)("div",{className:"grow"}),_?(0,z.jsx)(ce.Z,{onClick:ot,children:"Disconnect"}):(0,z.jsxs)(ce.Z,{onClick:nt,children:["Verify ",(0,z.jsx)(x.Z,{className:"h-5 w-5"})]})]}),(0,z.jsxs)("div",{className:"flex flex-row items-center gap-3 rounded-lg border-2 border-gray-200 px-4 py-3 dark:border-stone-700",children:[Ve?(0,z.jsx)("div",{className:"flex h-6 w-6 flex-row items-center justify-center text-center text-green-600",children:(0,z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:(0,z.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,z.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-gray-400 text-center text-sm text-gray-400",children:"2"}),(0,z.jsx)("div",{className:"whitespace-nowrap text-gray-700 dark:text-stone-400",children:Ve?(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,I.Xn)(L),(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})})]}):"Verify wallet"}),(0,z.jsx)("div",{className:"grow"}),Ve?(0,z.jsx)(ce.Z,{onClick:it,children:"Re-verify"}):_?(0,z.jsxs)(ce.Z,{onClick:it,children:["Verify",(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})})]}):(0,z.jsxs)(ce.Z,{disabled:!0,children:["Verify",(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})})]})]})]})]}),maxWidth:"max-w-md",title:"Discord Role",catchOnCancel:!0,submitButtonText:void 0}).catch((function(e){return console.log("reject",e)}))}function ht(){return ht=(0,s.Z)(c().mark((function e(r){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>1&&void 0!==n[1])||n[1],L){e.next=4;break}return S.ZP.error("Please connect your wallet."),e.abrupt("return");case 4:return e.abrupt("return",or(r.seller,Number(r.price),1,(0,I.UQ)(r.collection_id),(0,I.iR)(r.collection_id),r.token_name,Number(r.property_version)||0,(function(){S.ZP.dismiss(),S.ZP.success("Success!")}),t));case 5:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}function mt(){L?H({body:(0,z.jsx)(ke,{collectionId:w.collection_id,collectionOffer:wr,refresh:$r}),maxWidth:"max-w-xl",title:"Sell Instantly",catchOnCancel:!0,submitButtonText:void 0}).catch((function(e){return console.log("reject",e)})):S.ZP.error("Please connect your wallet.")}return(0,u.useEffect)((function(){$r()}),[w]),(0,u.useEffect)((function(){var e=function(){};return window.addEventListener("beforeunload",e),window.addEventListener("blur",e),xr.events.on("routeChangeStart",e),function(){window.removeEventListener("beforeunload",e),window.removeEventListener("blur",e),xr.events.off("routeChangeStart",e)}}),[xr]),(0,u.useEffect)((function(){(lr||dr)&&($e(!1),Je(!1))}),[lr,dr]),(0,u.useEffect)((function(){if(ir&&ur){var e=ir.data,r=ir.type;if("CollectionBidEvent"!==r)if("FillCollectionBidEvent"!==r){var t=(0,I.uW)(e.token_id),n="";if("BuyEvent"===r)n="".concat((0,I.Xn)(e.buyer)," bought for ").concat((0,I.Ho)(e.price)," APT"),tr(rr.filter((function(e){return e.token_id!==t})));else if("ListEvent"===r)n="".concat((0,I.Xn)(e.seller)," listed for ").concat((0,I.Ho)(e.price)," APT");else if("DelistEvent"===r)n="".concat((0,I.Xn)(e.seller)," delisted \ud83d\udd36\ud83d\ude4c"),tr(rr.filter((function(e){return e.token_id!==t})));else{if("BidEvent"!==r)return;n="".concat((0,I.Xn)(e.buyer)," bid ").concat((0,I.Ho)(e.price)," APT")}var a=(Number(null===mr||void 0===mr?void 0:mr.total_volume)||0)+Number(e.price),o=(Number(null===mr||void 0===mr?void 0:mr.volume_24)||0)+Number(e.price),s=(Number(null===mr||void 0===mr?void 0:mr.volume_48)||0)+Number(e.price);fr(ze(ze({},mr),{},{total_volume:a,volume_24:o,volume_48:s})),rt(e.token_id.token_data_id.name,e.token_id.token_data_id.collection,n)}else{rt("","","An item was sold instantly for ".concat((0,I.Ho)(e.price)," APT."));var i=(Number(null===mr||void 0===mr?void 0:mr.total_volume)||0)+Number(e.price),c=(Number(null===mr||void 0===mr?void 0:mr.volume_24)||0)+Number(e.price),l=(Number(null===mr||void 0===mr?void 0:mr.volume_48)||0)+Number(e.price);fr(ze(ze({},mr),{},{total_volume:i,volume_24:c,volume_48:l}))}else Number(null===e||void 0===e?void 0:e.price)>Number(null===wr||void 0===wr?void 0:wr.price)&&yr(e)}}),[ir,ur]),(0,u.useEffect)((function(){w&&tt()}),[w,xr,Tr,Fr,Y,Hr]),(0,u.useEffect)((function(){var e={collectionSlug:y};Yr&&(e.search=Yr),Hr>0&&(e.page=Hr),Y&&(e.buy_now=Y),Tr&&Object.keys(Tr).length>0&&(e.filters=JSON.stringify(Tr)),Fr!==n.PRICE_LOW_TO_HIGH&&(e.sort_mode=Fr),be&&0!==be&&(e.min_price=be),Ie&&0!==Ie&&Ie!==1/0&&(e.max_price=Ie),xr.push({pathname:xr.pathname,query:e},void 0,{shallow:!0})}),[Y,Tr,Fr,Hr,be,Ie,Yr]),(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==N&&void 0!==N&&N.discord&&L&&_&&null!==vr&&void 0!==vr&&vr.id&&xt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,L,_]),(0,u.useEffect)((function(){if(_&&vr){var e=function(){var e=(0,s.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.Z.from("user_communities").select("*").match({user_id:_.id,community_id:vr.id}).single();case 2:r=e.sent,t=r.data,r.error,qe(!!t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[_,vr]),(0,z.jsxs)(Ze.Z,{left:Ke&&250,children:[(0,z.jsx)(Se.Z,{templateTitle:w.verified_name||w.name}),(0,z.jsxs)("div",{children:[Ke&&(0,z.jsxs)("div",{className:"fixed top-[80px] bottom-0 left-0 z-40 flex min-h-screen w-[250px] flex-col overflow-y-scroll border-r-2 border-gray-200 bg-white px-4 pb-48 text-sm dark:border-stone-700 dark:bg-stone-800",children:[(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2 border-b-2 border-gray-200 py-2 dark:border-stone-700",children:[(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)(h.Z,{className:"h-6 w-6"})," Filter"]}),(0,z.jsx)("div",{className:"grow"}),(0,z.jsx)(ce.Z,{onClick:function(){$e(!1)},children:"Close"})]}),(0,z.jsxs)(Re.__,{onClick:function(){U(!Y),zr(0)},htmlFor:"buyNow",className:"flex flex-row items-center border-b-2 border-gray-200 py-2 hover:cursor-pointer dark:border-stone-700",children:[(0,z.jsx)("div",{children:"Buy Now"}),(0,z.jsx)("div",{className:"grow"}),(0,z.jsx)("div",{children:(0,z.jsx)(Re.rs,{checked:Y,theme:jr,children:(0,z.jsx)(Re.He,{})})})]}),(0,z.jsxs)("div",{className:"flex flex-col gap-2 border-b-2 border-gray-200 py-3 dark:border-stone-700",children:[(0,z.jsx)("div",{children:"Sort By"}),(0,z.jsx)(Te,{className:"ml-3",setSortMode:function(e){Lr(e),zr(0)},trigger:(0,z.jsxs)(ce.Z,{children:[(0,z.jsx)(m.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{className:"flex flex-row items-center gap-2",children:We(Fr)})]})})]}),(0,z.jsxs)("div",{className:"flex flex-col gap-2 border-b-2 border-gray-200 py-3 dark:border-stone-700",children:[(0,z.jsx)("div",{children:"Price Range"}),(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)("input",{className:"w-1/2 rounded-md border-2 border-gray-200 bg-transparent text-sm outline-0 ring-0 dark:border-stone-700 dark:placeholder:text-stone-500",type:"number",placeholder:"Min",value:ue,onChange:function(e){var r=e.target.value;xe(r||0===r?Math.max(0,Number(r)):void 0)}}),(0,z.jsx)("input",{className:"w-1/2 rounded-md border-2 border-gray-200 bg-transparent text-sm outline-0 ring-0 dark:border-stone-700 dark:placeholder:text-stone-500",type:"number",placeholder:"Max",value:fe,onChange:function(e){var r=e.target.value;pe(r||0===r?Math.max(0,Number(r)):void 0)}})]}),(0,z.jsxs)("div",{className:"flex w-full flex-row gap-2",children:[(0,z.jsx)(ce.Z,{className:"grow",onClick:function(){xe(""),pe(""),Ce(void 0),De(void 0),G(!0)},children:"Clear"}),(0,z.jsx)(ce.Z,{className:"grow",onClick:function(){Ce(ue),De(fe),G(!0)},children:"Apply"})]})]}),(0,z.jsxs)("div",{className:"flex flex-col gap-2 py-3",children:[(0,z.jsx)("div",{children:"Properties"}),(0,z.jsx)("div",{className:"flex w-full flex-row gap-2",children:(0,z.jsx)(ce.Z,{className:"grow",onClick:function(){Rr({})},children:"Reset Filters"})})," ",Or&&Object.keys(Or).length>0&&Object.keys(Or).map((function(e,r){return(0,z.jsx)(te,{theme:jr,type:"single",defaultValue:"item-".concat(r),collapsible:!0,children:(0,z.jsxs)(ne,{theme:jr,value:"item-".concat(r),children:[(0,z.jsx)(ae,{theme:jr,children:e}),(0,z.jsx)(oe,{theme:jr,children:Object.keys(Or[e].values).map((function(r,t){var n,s,i=Or[e].display_type,c="".concat(e,"-").concat(r,"-").concat(t);return(0,z.jsxs)("div",{className:"flex flex-row items-center gap-3 py-2",children:[(0,z.jsx)("input",{type:"checkbox",id:c,name:c,checked:(null===(n=Tr[e])||void 0===n||null===(s=n.filter((function(e){return r===e.value})))||void 0===s?void 0:s.length)>0,onChange:function(t){if(t.target.checked)Rr(ze(ze({},Tr),{},(0,o.Z)({},e,[].concat((0,a.Z)(Tr[e]||[]),[{value:r,displayType:i}]))));else{var n=ze({},Tr);n[e]=n[e].filter((function(e){return r!==e.value})),0===n[e].length&&delete n[e],Rr(ze({},n))}zr(0)}}),(0,z.jsxs)("label",{className:"w-full",htmlFor:c,children:[r," (",Or[e].values[r],")"]})]},c)}))})]})},"".concat(e,"-").concat(r))}))]})]}),(0,z.jsxs)("section",{className:"".concat(Ke&&"ml-[250px]"," ").concat(Xe&&"mr-[290px]"),children:[(0,z.jsx)(Ye,{royalty:qr,sortMode:Fr,setSortMode:Lr,xs:lr,sm:dr,address:L,collection:w,floor:ie,count:J,collectionData:mr,showInstantSaleDialog:mt,topCollectionOffer:wr,refresh:$r,refreshTokens:tt,slug:y,buyNow:Y,setBuyNow:U,listedCount:_r,realtime:Ir,setRealtime:Mr,setPage:zr,initialSearch:b,onSearch:function(e){G(!0),Ur(e)},claimRoleButton:(null===vr||void 0===vr?void 0:vr.id)&&L&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(ce.Z,{onClick:xt,children:[(0,z.jsx)(x.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:Ve?null===_||void 0===_||null===(r=_.user_metadata)||void 0===r?void 0:r.name:"Discord Role"})]})}),onCartMode:function(){tr([]),Je(!Xe)},cartMode:Xe,onShowFilter:function(){return $e(!Ke)},showFilter:Ke}),Nr?(0,z.jsx)(ve,{slug:y,collection:w}):(0,z.jsxs)(z.Fragment,{children:[!q&&0===((null===$||void 0===$?void 0:$.length)||0)&&(0,z.jsx)("div",{className:"w-full py-8 text-center text-xl text-gray-500 dark:text-stone-500",children:"No items to display."}),q&&(0,z.jsxs)("section",{className:"mx-auto grid grid-cols-2 gap-1 px-2 md:gap-x-2 md:gap-y-4 ".concat(Xe&&Ke?"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 2xl:grid-cols-6":"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 2xl:grid-cols-8"),children:[(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{}),(0,z.jsx)(me.Pe,{})]}),!q&&((null===$||void 0===$?void 0:$.length)||0)>0&&(0,z.jsxs)(P.Z,{className:"mx-auto grid grid-cols-2 gap-1 px-2 md:gap-x-2 md:gap-y-4  ".concat(Xe&&Ke?"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 2xl:grid-cols-6":"md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 2xl:grid-cols-8"),children:[wr&&(0,z.jsx)(je,{onClick:mt,price:wr.price}),$.map((function(e){return(0,z.jsx)(T.Z,{timeout:800,classNames:"token-card",children:(0,z.jsx)(Ee.Z,{tokenId:e.token_id,selected:rr.includes(e),lastSale:e.last_sale,rank:e.rank,totalSupply:J,onClick:Xe?function(){if(e.seller)if(rr.includes(e)){var r=rr.filter((function(r){return r!==e}));tr(r)}else{var t=[].concat((0,a.Z)(rr),[e]);tr(t)}else S.ZP.error("That item can't be added to your cart because it isn't listed.")}:void 0,uri:e.preview_uri||e.token_uri,slug:y,name:e.token_name,price:e.price,onBuyNow:function(){!function(e){ht.apply(this,arguments)}(e,!1)}},e.token_id)},e.token_id)}))]}),(0,z.jsx)("div",{className:"py-12",children:(0,z.jsx)(Oe.Qq,{setPage:zr,slug:y,page:Hr,count:J,onLoading:function(){return G(!0)},itemsPerPage:50})})]})]}),Xe&&(0,z.jsx)(_e.Z,{title:(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)(f.Z,{className:"h-6 w-6"}),"My Cart"]}),emptyText:(0,z.jsx)("div",{className:"py-8 px-4 text-center text-gray-500 dark:text-stone-500",children:"Your Topaz cart is empty. Fill it with NFTs and start collecting!"}),setCartMode:Je,cart:rr,checkoutText:"Buy Now",setCart:tr,onCheckout:function(e){return lt.apply(this,arguments)},onSweepChange:function(e){var r,t=$.slice(0,e),n=(0,a.Z)(rr).slice(0,e),o=Le(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;!rr.includes(s)&&s.is_listed&&n.push(s)}}catch(i){o.e(i)}finally{o.f()}tr(n)}})]})]})}function We(e){switch(e){case"PRICE_HIGH_TO_LOW":return"Price (high to low)";case"PRICE_LOW_TO_HIGH":return"Price (low to high)";case"RARITY_COMMON_TO_RARE":return"Rarity (common to rare)";case"RARITY_RARE_TO_COMMON":return"Rarity (rare to common)";default:return""}}function Ye(e){var r=e.collection,t=e.floor,n=e.count,a=e.collectionData,o=e.claimRoleButton,i=e.onCartMode,m=e.cartMode,C=e.onShowFilter,P=e.showFilter,T=(e.showInstantSaleDialog,e.topCollectionOffer,e.refresh),R=(e.buyNow,e.setBuyNow,e.slug),E=e.listedCount,M=e.xs,F=e.sm,L=e.realtime,D=e.refreshTokens,H=e.setRealtime,B=(e.sortMode,e.setSortMode,e.setPage,e.onSearch),W=e.initialSearch,Y=e.royalty,U=(0,ye.I)().bidCollection,V=(0,Ne.Z)().address,q=(0,d.F)().theme,G=(0,l.useRouter)(),X=(0,A.Z)(),J=(0,O.cI)(),Q=J.register,K=J.getValues,$=r.logo_uri||r.uri,ee=r.volume_24/r.volume_48*100||0,re=G.query.activity,te=(0,u.useState)(0),ne=te[0],ae=te[1],oe=(0,u.useState)(W),le=oe[0],de=oe[1];function xe(){return fe.apply(this,arguments)}function fe(){return(fe=(0,s.Z)(c().mark((function e(){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=K("pricePerToken"),n=K("numTokens"),a=K("expiration"),o=1e3*(new Date).getTime(),U((0,I.vz)(t),Number(n),36e8*Number(a)+o,r.creator,r.name,T);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X({body:(0,z.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,z.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 rounded-xl bg-gray-100 py-6 dark:bg-stone-800",children:[(0,z.jsx)("div",{className:"h-14 w-14 overflow-hidden rounded-lg border-2 border-white",children:(0,z.jsx)(Ce.q,{uri:r.logo_uri||r.uri,fallback:"/images/img.png",className:"h-14 w-14 object-cover"})}),(0,z.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,z.jsx)("div",{className:"text-lg",children:r.name}),(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2 text-gray-500 dark:text-stone-500",children:["Floor"," ",(0,z.jsx)("div",{className:"h-4 w-4",children:(0,z.jsx)(se.Z,{})})," ",0===Number(t)?"\u221e":(0,I.Ho)(t,{fallback:"\u221e"})]})]})]}),(0,z.jsx)("div",{className:"text-sm text-gray-400",children:"Placing a collection offer removes coins from your wallet. You can cancel your offer anytime to get your coins back."}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"mb-4 text-xl",children:"Price per item"}),(0,z.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4",children:[(0,z.jsx)("input",ze({placeholder:"100",type:"number",id:"pricePerToken",className:"w-full rounded-xl border-2 border-gray-300 bg-transparent text-left text-xl placeholder:text-gray-300 dark:border-stone-700 dark:placeholder:text-stone-700",style:{WebkitAppearance:"none",MozAppearance:"textfield"}},Q("pricePerToken"))),(0,z.jsx)("div",{className:"-mb-3 -mr-2 h-10 w-10",children:(0,z.jsx)(se.Z,{})}),(0,z.jsx)("div",{className:"text-xl",children:"APT"})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"mb-4 text-xl",children:"Number of items"}),(0,z.jsx)("input",ze({placeholder:"5",type:"number",id:"numTokens",className:"w-full rounded-xl border-2 border-gray-300 bg-transparent text-left text-xl placeholder:text-gray-300 dark:border-stone-700 dark:placeholder:text-stone-700",style:{WebkitAppearance:"none",MozAppearance:"textfield"},defaultValue:1},Q("numTokens")))]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"mb-4 text-xl",children:"Offer expiration"}),(0,z.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,z.jsx)("input",ze({placeholder:"24",type:"number",id:"expiration",className:"w-full rounded-xl border-2 border-gray-300 bg-transparent text-left text-xl placeholder:text-gray-300 dark:border-stone-700 dark:placeholder:text-stone-700",style:{WebkitAppearance:"none",MozAppearance:"textfield"},defaultValue:72},Q("expiration"))),(0,z.jsx)("select",{className:"rounded-xl border-2 border-gray-300 bg-transparent text-xl dark:border-stone-700",name:"unit",id:"unit",children:(0,z.jsx)("option",{value:"hours",children:"Hours"})})]})]})]}),maxWidth:"max-w-md",title:"Create Collection Offer",submitButtonText:"Create Offer",catchOnCancel:!0}).then((function(){V?xe():S.ZP.error("Please connect your wallet.")})).catch((function(e){return console.log("reject",e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){var e=setInterval((function(){if(L){var e=(ne+1)%12;ae(e),11===e&&(T(),D())}}),1e3);return function(){return clearInterval(e)}}),[ne,L]),(0,z.jsx)("div",{children:(0,z.jsx)("div",{className:"mx-auto py-4 px-4 text-center md:text-left",children:(0,z.jsxs)("div",{className:"flex flex-col items-center md:items-start",children:[(0,z.jsxs)("div",{className:"mb-6 flex w-full flex-col items-center gap-4 md:flex-row md:items-start",children:[$?(0,z.jsx)(Ce.q,{uri:$,fallback:"/images/img.png",className:"h-36 w-36 flex-shrink-0 rounded-xl border-4 border-white bg-gray-200 object-cover drop-shadow-md dark:border-stone-500"}):(0,z.jsx)("div",{className:"h-36 w-36 flex-shrink-0 overflow-hidden rounded-xl border-4 border-white bg-gray-200 object-cover",children:(0,z.jsx)(me.i_,{width:280,height:280})}),(0,z.jsxs)("div",{className:"w-full",children:[(0,z.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-3 md:flex-row md:justify-start md:gap-4",children:[(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2 text-2xl font-bold",children:[r.name?r.name:(0,z.jsx)(me.i_,{width:300,height:64}),r.flagged_collections&&(0,z.jsx)(Ie.zt,{delayDuration:0,children:(0,z.jsxs)(Ie.u,{children:[(0,z.jsx)(Ie.aJ,{asChild:!0,children:(0,z.jsx)(p.Z,{className:"text-red-500"})}),(0,z.jsx)(Ie._v,{sideOffset:5,children:"This collection has been flagged by the community as being a scam, potential IP infringement, or offensive."})]})}),r.verified&&(0,z.jsx)(Ie.zt,{delayDuration:0,children:(0,z.jsxs)(Ie.u,{children:[(0,z.jsx)(Ie.aJ,{asChild:!0,children:(0,z.jsx)(v.Z,{className:"text-green-600"})}),(0,z.jsx)(Ie._v,{sideOffset:5,children:"Topaz has verified this collection for authenticity."})]})})]}),V&&r.creator&&r.creator==V&&(0,z.jsx)(ce.Z,{href:"".concat(G.asPath,"/edit"),children:(0,z.jsxs)("a",{className:"flex flex-row items-center justify-center gap-2",children:[(0,z.jsx)(g.Z,{className:"h-5 w-5"})," Edit Collection"]})}),(0,z.jsx)("div",{className:"hidden grow md:block"}),(0,z.jsxs)("div",{className:"flex flex-row gap-1 text-xs text-gray-500 dark:text-stone-400 md:hidden",children:["Created by"," ",r.creator?(0,z.jsx)("a",{className:"underline",href:"https://explorer.aptoslabs.com/account/".concat(r.creator),target:"_blank",rel:"noopener noreferrer",children:(0,z.jsx)(he.Z,{address:r.creator})}):(0,z.jsx)(me.i_,{width:100,height:20})]}),(0,z.jsxs)("div",{className:"my-2 flex flex-row justify-center gap-1 md:my-0",children:[r.website&&(0,z.jsx)(ce.Z,{href:(0,I.JD)(r.website),target:"_blank",children:(0,z.jsx)(j.Z,{className:"h-6 w-6"})}),r.twitter&&(0,z.jsx)(ce.Z,{href:(0,I.JD)(r.twitter),target:"_blank",children:(0,z.jsx)(b.Z,{className:"h-6 w-6"})}),r.discord&&(0,z.jsx)(ce.Z,{href:(0,I.JD)(r.discord),target:"_blank",children:(0,z.jsx)(x.Z,{className:"h-6 w-6"})}),!M&&!F&&(0,z.jsx)("div",{className:"ml-3 border-l-2 border-black/20 pl-4 dark:border-white/20",children:(0,z.jsx)(ce.Z,{onClick:function(){X({body:(0,z.jsx)("div",{children:(0,z.jsx)("div",{className:"text-lg font-medium text-gray-500 dark:text-stone-500",children:"Do you want to report this collection for copyright infringement, scamming, fraud, or offensive content?"})}),maxWidth:"max-w-md",title:"Report Collection",catchOnCancel:!0,submitButtonText:"Report"}).then((0,s.Z)(c().mark((function e(){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/report",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({collection_id:r.collection_id})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).data,(a=n.error)?S.ZP.error(a):S.ZP.success("Collection reported.");case 9:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log("reject",e)}))},children:(0,z.jsx)(p.Z,{className:"h-6 w-6"})})})]})]}),(0,z.jsxs)("div",{className:"mt-2 hidden flex-row gap-1 text-xs text-gray-500 dark:text-stone-400 md:flex",children:["Created by"," ",r.creator?(0,z.jsx)("a",{className:"underline",href:"https://explorer.aptoslabs.com/account/".concat(r.creator),target:"_blank",rel:"noopener noreferrer",children:(0,z.jsx)(he.Z,{address:r.creator})}):(0,z.jsx)(me.i_,{width:100,height:20}),(0,z.jsx)("div",{children:Y&&(0,z.jsxs)(z.Fragment,{children:["\u2022"," ",(Y.royalty_points_numerator/Y.royalty_points_denominator*100).toLocaleString(void 0,{maximumFractionDigits:3}),"% creator royalty"]})})]}),(0,z.jsx)("div",{className:"mt-4 text-left text-base text-gray-500 dark:text-stone-400",children:r.description})]})]}),(0,z.jsxs)("div",{className:"flex-row-2 flex-col-2 md:flex-col-4 md:flex-row-1 flex flex-row flex-wrap justify-center gap-2 md:justify-start",children:[(0,z.jsxs)(ie.Z,{title:"Floor Price",loading:!t&&0!==t,children:[(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})}),(0,z.jsx)("div",{children:0===Number(t)?"\u221e":(0,I.Ho)(t,{fallback:"\u221e"})})]}),(0,z.jsx)(ie.Z,{title:"Volume (24 hours)",loading:!a,children:(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})}),(0,z.jsx)("div",{children:(0,I.Ho)(null===a||void 0===a?void 0:a.volume_24,{maxDecimals:2})}),ee>=100&&(0,z.jsxs)("div",{className:"text-sm text-green-500",children:["+",ee.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]}),ee<100&&ee>0&&(0,z.jsxs)("div",{className:"text-sm text-red-500",children:["-",ee.toLocaleString(void 0,{maximumFractionDigits:2}),"%"]})]})}),(0,z.jsx)(ie.Z,{title:"Total Volume",loading:!a,children:(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4",children:(0,z.jsx)(se.Z,{})}),(0,z.jsx)("div",{children:(0,I.Ho)(null===a||void 0===a?void 0:a.total_volume,{maxDecimals:2})})]})}),(0,z.jsx)(ie.Z,{title:"Items",loading:!n&&0!==n,children:Number(n||0).toLocaleString()}),(0,z.jsx)(ie.Z,{title:"Listed",loading:!E&&0!==E,children:Number(E||0).toLocaleString()}),(0,z.jsx)(ie.Z,{title:"Owners",loading:!a,children:Number((null===a||void 0===a?void 0:a.num_unique_owners)||0).toLocaleString()})]}),(0,z.jsxs)("div",{className:"mt-3 hidden w-full flex-row flex-wrap gap-2 md:flex md:flex-row md:items-center",children:[(0,z.jsx)(ce.Z,{onClick:C,active:P,children:(0,z.jsx)(h.Z,{className:"h-5 w-5"})}),(0,z.jsxs)(ce.Z,{onClick:function(){return i()},active:m,children:[(0,z.jsx)(f.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:"Cart Mode"})]}),o,re?(0,z.jsxs)(ue,{href:"/collection/".concat(R,"/"),children:[(0,z.jsx)(y.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:"Collection"})]}):(0,z.jsxs)(ue,{href:"/collection/".concat(R,"/?activity=true"),children:[(0,z.jsx)(w.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:"Activity"})]}),(0,z.jsxs)(ce.Z,{primary:!0,onClick:function(){return pe.apply(this,arguments)},children:[(0,z.jsx)(N.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:"Collection Offer"})]}),(0,z.jsxs)(ce.Z,{onClick:function(){return H(!L)},children:[(0,z.jsx)(k.Z,{className:"h-5 w-5"}),(0,z.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,z.jsx)("div",{children:"Auto-Refresh"}),(0,z.jsx)("div",{children:(0,z.jsx)(Re.gS,{checked:L,id:"liveFeed",theme:q,children:(0,z.jsx)(Re.q6,{})})})]})]}),(0,z.jsxs)(ce.Z,{onClick:function(){D(),T()},children:[(0,z.jsx)(_.Z,{className:"h-5 w-5"}),(0,z.jsx)("div",{children:"Refresh"})]}),(0,z.jsx)("div",{className:"grow"}),(0,z.jsxs)("div",{className:"hidden w-[400px] flex-row items-center gap-1 rounded-xl border-2 border-gray-300 px-4 text-gray-400 hover:cursor-not-allowed dark:border-stone-600 xl:flex",children:[(0,z.jsx)(Z.Z,{className:"h-5 w-5"}),(0,z.jsx)("input",{type:"text",className:"h-10 w-full border-0 bg-transparent text-sm text-black placeholder:text-gray-400 focus:ring-0 dark:text-white",placeholder:"Search by item name",value:le,onChange:function(e){return de(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&B(le)}})]})]}),!re&&(0,z.jsxs)("div",{className:"mt-4 hidden flex-row gap-2 text-xs font-bold uppercase text-gray-500 dark:text-stone-500 md:flex",children:[L&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"ring-container",children:[(0,z.jsx)("div",{className:"ringring"}),(0,z.jsx)("div",{className:"circle"})]}),(0,z.jsx)("div",{className:"ml-4",children:"Live Feed"}),(0,z.jsxs)("div",{className:"opacity-60",children:["Updated ",ne," secs ago"]})]}),!L&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"ring-container",children:(0,z.jsx)("div",{className:"red-circle"})}),(0,z.jsx)("div",{className:"ml-4",children:"Live Feed Off"})]})]})]})})})}var Ue=!0;function Ve(e){var r=e.initialBuyNow,t=e.initialSortMode,n=e.initialFilters,a=e.initialPage,o=e.initialMinPrice,i=e.initialMaxPrice,d=e.initialSearch,x=(0,u.useState)(),h=x[0],m=x[1],f=(0,l.useRouter)().query.collectionSlug,p="/api/collection?slug=".concat(f),v=(0,R.ZP)(f?p:null,(0,s.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e)})))),g=v.data,j=v.error;return(0,u.useEffect)((function(){!j&&g&&m(g.collection)}),[j,g]),(0,z.jsx)(z.Fragment,{children:h&&(0,z.jsx)(Be,{initialBuyNow:r,initialSortMode:t,initialFilters:n,initialPage:a,initialMinPrice:o,initialMaxPrice:i,initialSearch:d,collection:h,slug:f})})}},45735:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection/[collectionSlug]",function(){return t(60953)}])}},function(e){e.O(0,[2455,4479,7536,422,3174,4953,8909,289,8032,9774,2888,179],(function(){return r=45735,e(e.s=r);var r}));var r=e.O();_N_E=r}]);